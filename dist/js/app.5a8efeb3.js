(function(){"use strict";var e={8582:function(e,s,r){var o=r(5130),t=r(6768);const a={id:"app"};function n(e,s,r,o,n,l){const i=(0,t.g2)("router-view");return(0,t.uX)(),(0,t.CE)("div",a,[(0,t.bF)(i)])}var l={name:"App"},i=r(1241);const u=(0,i.A)(l,[["render",n]]);var d=u,c=r(4373);const p=c.A.create({baseURL:"http://localhost:4000/"});var h=p,m=r(1387);function b(e,s,r,o,a,n){const l=(0,t.g2)("TableComponent");return(0,t.uX)(),(0,t.CE)("div",null,[s[0]||(s[0]=(0,t.Lk)("h1",null,"Lista de repartidores",-1)),(0,t.bF)(l,{headers:a.tableHeadersUsers,rows:a.tableRowsUsers},null,8,["headers","rows"]),s[1]||(s[1]=(0,t.Lk)("br",null,null,-1)),s[2]||(s[2]=(0,t.Lk)("br",null,null,-1)),s[3]||(s[3]=(0,t.Lk)("h1",null,"Lista de ventas",-1)),(0,t.bF)(l,{headers:a.tableHeadersSales,rows:a.tableRowsSales},null,8,["headers","rows"])])}var f=r(4232);const g={class:"login-container"},w={class:"custom-table"},v=["onClick"],C={key:0};function y(e,s,r,o,a,n){return(0,t.uX)(),(0,t.CE)("div",g,[(0,t.Lk)("table",w,[(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.headers,((e,s)=>((0,t.uX)(),(0,t.CE)("th",{key:s,onClick:e=>n.sortTable(s)},[(0,t.eW)((0,f.v_)(e)+" ",1),a.sortColumn===s?((0,t.uX)(),(0,t.CE)("span",C,(0,f.v_)(a.sortAsc?"▲":"▼"),1)):(0,t.Q3)("",!0)],8,v)))),128))])]),(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(n.sortedRows,((e,s)=>((0,t.uX)(),(0,t.CE)("tr",{key:s},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e,((e,s)=>((0,t.uX)(),(0,t.CE)("td",{key:s},(0,f.v_)(e),1)))),128))])))),128))])])])}var k={name:"TableComponent",props:{headers:{type:Array,required:!0},rows:{type:Array,required:!0}},data(){return{sortColumn:null,sortAsc:!0}},computed:{sortedRows(){return null===this.sortColumn?this.rows:[...this.rows].sort(((e,s)=>e[this.sortColumn]<s[this.sortColumn]?this.sortAsc?-1:1:e[this.sortColumn]>s[this.sortColumn]?this.sortAsc?1:-1:0))}},methods:{sortTable(e){this.sortColumn===e?this.sortAsc=!this.sortAsc:(this.sortColumn=e,this.sortAsc=!0)}}};const A=(0,i.A)(k,[["render",y],["__scopeId","data-v-a479d650"]]);var L=A,E={components:{TableComponent:L},data(){return{tableHeadersUsers:["ID","Repartidor","Cantidad","Cliente","Fecha"],tableRowsUsers:[],tableHeadersSales:["ID","Repartidor","Cantidad","Cliente","Fecha"],tableRowsSales:[]}},mounted(){this.getAllSales()},methods:{async getAllSales(){try{const e=await c.A.post("http://localhost:4000/orders/get_sales",{},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});console.log(e.data.sales),this.tableRowsSales=e.data.sales}catch(e){e.response?this.errorMessage=e.response.data.message||"Login failed":this.errorMessage="An error occurred: "+e.message}}}};const S=(0,i.A)(E,[["render",b]]);var _=S;function F(e,s,r,o,a,n){const l=(0,t.g2)("TableComponent");return(0,t.uX)(),(0,t.CE)("div",null,[s[0]||(s[0]=(0,t.Lk)("h1",null,"Ultimas ventas",-1)),(0,t.bF)(l,{headers:a.tableHeaders,rows:a.tableRows},null,8,["headers","rows"])])}var O={components:{TableComponent:L},data(){return{tableHeaders:["ID","Name","Email","Role"],tableRows:[[1,"John Doe","john@example.com","Admin"],[2,"Jane Smith","jane@example.com","User"],[3,"Sam Green","sam@example.com","Editor"],[4,"Anna Blue","anna@example.com","User"]]}}};const P=(0,i.A)(O,[["render",F]]);var M=P;const R={class:"login-container"},T={class:"form-group"},X={class:"form-group"},j={class:"password-wrapper"},x=["type"],U={key:0,class:"error-message"};function I(e,s,r,a,n,l){return(0,t.uX)(),(0,t.CE)("div",R,[s[7]||(s[7]=(0,t.Lk)("h2",null,"Login",-1)),(0,t.Lk)("form",{onSubmit:s[3]||(s[3]=(0,o.D$)(((...e)=>l.submitForm&&l.submitForm(...e)),["prevent"]))},[(0,t.Lk)("div",T,[s[4]||(s[4]=(0,t.Lk)("label",{for:"email"},"Email:",-1)),(0,t.bo)((0,t.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":s[0]||(s[0]=e=>n.email=e),required:"",class:"form-control"},null,512),[[o.Jo,n.email]])]),(0,t.Lk)("div",X,[s[5]||(s[5]=(0,t.Lk)("label",{for:"password"},"Password:",-1)),(0,t.Lk)("div",j,[(0,t.bo)((0,t.Lk)("input",{type:e.showPasswor?"text":"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=e=>n.password=e),required:"",minlength:"6",class:"form-control"},null,8,x),[[o.hp,n.password]]),(0,t.Lk)("button",{type:"button",onClick:s[2]||(s[2]=(...e)=>l.togglePassword&&l.togglePassword(...e)),class:"toggle-password-btn"},(0,f.v_)(n.showPassword?"Hide":"Show"),1)])]),s[6]||(s[6]=(0,t.Lk)("button",{type:"submit",class:"btn btn-primary"},"Login",-1))],32),n.errorMessage?((0,t.uX)(),(0,t.CE)("p",U,(0,f.v_)(n.errorMessage),1)):(0,t.Q3)("",!0)])}r(4114);var H={name:"loginVue",data(){return{email:"",password:"",showPassword:!1,errorMessage:""}},methods:{async submitForm(){if(this.validateForm())try{const e=await c.A.post("http://localhost:4000/user/login",{email:this.email,password:this.password},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});console.log("Login successful:",e.data),console.log("Login successful:",e.data.user.isAdmin),e.data.user.isAdmin?this.$router.push("/dashboard-admin"):this.$router.push("/dashboard-user")}catch(e){e.response?this.errorMessage=e.response.data.message||"Login failed":this.errorMessage="An error occurred: "+e.message}},validateForm(){return this.email&&this.password?this.isValidEmail(this.email)?this.password.length<6?(this.errorMessage="Password must be at least 6 characters.",!1):(this.errorMessage="",!0):(this.errorMessage="Invalid email format.",!1):(this.errorMessage="Both fields are required.",!1)},isValidEmail(e){const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return s.test(e)},togglePassword(){this.showPassword=!this.showPassword}}};const q=(0,i.A)(H,[["render",I],["__scopeId","data-v-a7275180"]]);var D=q;const V=[{path:"/",component:D},{path:"/dashboard-admin",component:_},{path:"/dashboard-user",component:M}],$=(0,m.aE)({history:(0,m.sC)(),routes:V});var J=$;r(8077);(0,o.Ef)(d).use(J).mount("#app"),d.config.globalProperties.$axios=h}},s={};function r(o){var t=s[o];if(void 0!==t)return t.exports;var a=s[o]={exports:{}};return e[o].call(a.exports,a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(s,o,t,a){if(!o){var n=1/0;for(d=0;d<e.length;d++){o=e[d][0],t=e[d][1],a=e[d][2];for(var l=!0,i=0;i<o.length;i++)(!1&a||n>=a)&&Object.keys(r.O).every((function(e){return r.O[e](o[i])}))?o.splice(i--,1):(l=!1,a<n&&(n=a));if(l){e.splice(d--,1);var u=t();void 0!==u&&(s=u)}}return s}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,t,a]}}(),function(){r.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(s,{a:s}),s}}(),function(){r.d=function(e,s){for(var o in s)r.o(s,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(s){return 0===e[s]};var s=function(s,o){var t,a,n=o[0],l=o[1],i=o[2],u=0;if(n.some((function(s){return 0!==e[s]}))){for(t in l)r.o(l,t)&&(r.m[t]=l[t]);if(i)var d=i(r)}for(s&&s(o);u<n.length;u++)a=n[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},o=self["webpackChunkvapes_adminweb"]=self["webpackChunkvapes_adminweb"]||[];o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o))}();var o=r.O(void 0,[504],(function(){return r(8582)}));o=r.O(o)})();
//# sourceMappingURL=app.5a8efeb3.js.map